<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Find files on Google Drive — drive_find • googledrive</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Find files on Google Drive — drive_find" />
<meta property="og:description" content="This is the closest googledrive function to what you can do at
https://drive.google.com: by default, you just get a listing of your files.
You can also search in various ways, e.g., filter by file type or ownership
or even work with Team Drive files, if you have access. This
is a very powerful function. Together with the more specific drive_get(),
this is the main way to identify files to target for downstream work.
Note: Team Drives
are only available to users of certain enhanced Google services, such as G
Suite Enterprise, G Suite Business, or G Suite for Education." />
<meta property="og:image" content="https://googledrive.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">googledrive</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/googledrive.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/bring-your-own-app.html">Bring your own OAuth app or API key</a>
    </li>
    <li>
      <a href="../articles/articles/file-identification.html">File Identification</a>
    </li>
    <li>
      <a href="../articles/articles/multiple-files.html">Dealing with multiple files</a>
    </li>
    <li>
      <a href="../articles/articles/permissions.html">File permissions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/08/googledrive-1-0-0/">Version 1.0.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/googledrive/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find files on Google Drive</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/googledrive/blob/master/R/drive_find.R'><code>R/drive_find.R</code></a></small>
    <div class="hidden name"><code>drive_find.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the closest googledrive function to what you can do at
<a href='https://drive.google.com'>https://drive.google.com</a>: by default, you just get a listing of your files.
You can also search in various ways, e.g., filter by file type or ownership
or even work with <a href='team_drives.html'>Team Drive files</a>, if you have access. This
is a very powerful function. Together with the more specific <code><a href='drive_get.html'>drive_get()</a></code>,
this is the main way to identify files to target for downstream work.</p>
<p>Note: <a href='https://gsuite.google.com/learning-center/products/drive/get-started-team-drive/'>Team Drives</a>
are only available to users of certain enhanced Google services, such as G
Suite Enterprise, G Suite Business, or G Suite for Education.</p>
    </div>

    <pre class="usage"><span class='fu'>drive_find</span>(
  <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>trashed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>Inf</span>,
  <span class='kw'>team_drive</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>corpus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pattern</th>
      <td><p>Character. If provided, only the items whose names match this
regular expression are returned. This is implemented locally on the results
returned by the API.</p></td>
    </tr>
    <tr>
      <th>trashed</th>
      <td><p>Logical. Whether to search files that are not in the trash
(<code>trashed = FALSE</code>, the default), only files that are in the trash
(<code>trashed = TRUE</code>), or to search regardless of trashed status (<code>trashed = NA</code>).</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Character. If provided, only files of this type will be returned.
Can be anything that <code><a href='drive_mime_type.html'>drive_mime_type()</a></code> knows how to handle. This is
processed by googledrive and sent as a query parameter.</p></td>
    </tr>
    <tr>
      <th>n_max</th>
      <td><p>Integer. An upper bound on the number of items to return. This
applies to the results requested from the API, which may be further
filtered locally, via the <code>pattern</code> argument.</p></td>
    </tr>
    <tr>
      <th>team_drive</th>
      <td><p>Anything that identifies one specific Team Drive: its name,
its id or URL marked with <code><a href='as_id.html'>as_id()</a></code>, or a <code><a href='dribble.html'>dribble</a></code>. Is pre-processed
with <code><a href='as_team_drive.html'>as_team_drive()</a></code>.  Read more about <a href='team_drives.html'>Team Drives</a>.</p></td>
    </tr>
    <tr>
      <th>corpus</th>
      <td><p>Character, specifying the search collection. Only relevant in
the Team Drives context. If specified, must be one of <code>"user"</code>, <code>"all"</code>, or
<code>"domain"</code>. Read more about <a href='team_drives.html'>Team Drives</a>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other parameters to pass along in the request. The most likely
candidate is <code>q</code>. See below and the API's
<a href='https://developers.google.com/drive/api/v3/search-files'>Search for files and folders guide</a>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical, indicating whether to print informative messages
(default <code>TRUE</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code><a href='dribble.html'>dribble</a></code>, a tibble with one row per item.</p>
    <h2 class="hasAnchor" id="file-type"><a class="anchor" href="#file-type"></a>File type</h2>

    


<p>The <code>type</code> argument is pre-processed with <code><a href='drive_mime_type.html'>drive_mime_type()</a></code>, so you can
use a few shortcuts and file extensions, in addition to full-blown MIME
types. googledrive forms a search clause to pass to <code>q</code>.</p>
    <h2 class="hasAnchor" id="search-parameters"><a class="anchor" href="#search-parameters"></a>Search parameters</h2>

    


<p>Do advanced search on file properties by providing search clauses to the
<code>q</code> parameter that is passed to the API via <code>...</code>. Multiple <code>q</code> clauses or
vector-valued <code>q</code> are combined via 'and'.</p>
    <h2 class="hasAnchor" id="trash"><a class="anchor" href="#trash"></a>Trash</h2>

    


<p>By default, <code>drive_find()</code> sets <code>trashed = FALSE</code> and does not include
files in the trash. Literally, it adds <code>q = "trashed = false"</code> to the
query. To search <em>only</em> the trash, set <code>trashed = TRUE</code>. To see files
regardless of trash status, set <code>trashed = NA</code>, which adds
<code>q = "(trashed = true or trashed = false)"</code> to the query.</p>
    <h2 class="hasAnchor" id="sort-order"><a class="anchor" href="#sort-order"></a>Sort order</h2>

    


<p>By default, <code>drive_find()</code> sends <code>orderBy = "recency desc"</code>, so the top
files in your result have high "recency" (whatever that means). To suppress
sending <code>orderBy</code> at all, do <code>drive_find(orderBy = NULL)</code>. The <code>orderBy</code>
parameter accepts sort keys in addition to <code>recency</code>, which are documented
in the <a href='https://developers.google.com/drive/v3/reference/files/list'><code>files.list</code> endpoint</a>.
googledrive translates a snake_case specification of <code>order_by</code> into the
lowerCamel form, <code>orderBy</code>.</p>
    <h2 class="hasAnchor" id="team-drives"><a class="anchor" href="#team-drives"></a>Team Drives</h2>

    


<p>If you have access to Team Drives, you'll know. Use <code>team_drive</code> or <code>corpus</code>
to search one or more Team Drives or a domain. See
<a href='team_drives.html'>Access Team Drives</a> for more.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Wraps the <code>files.list</code> endpoint:</p><ul>
<li><p><a href='https://developers.google.com/drive/v3/reference/files/list'>https://developers.google.com/drive/v3/reference/files/list</a></p></li>
</ul>

<p>Helpful resource for forming your own queries:</p><ul>
<li><p><a href='https://developers.google.com/drive/api/v3/search-files'>https://developers.google.com/drive/api/v3/search-files</a></p></li>
</ul>
</div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># list "My Drive" w/o regard for folder hierarchy</span>
<span class='fu'>drive_find</span>()

<span class='co'># filter for folders, the easy way and the hard way</span>
<span class='fu'>drive_find</span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"folder"</span>)
<span class='fu'>drive_find</span>(<span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"mimeType = 'application/vnd.google-apps.folder'"</span>)

<span class='co'># filter for Google Sheets, the easy way and the hard way</span>
<span class='fu'>drive_find</span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"spreadsheet"</span>)
<span class='fu'>drive_find</span>(<span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"mimeType='application/vnd.google-apps.spreadsheet'"</span>)

<span class='co'># files whose names match a regex</span>
<span class='fu'>drive_find</span>(<span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"jt"</span>)

<span class='co'># search for files located directly in your root folder</span>
<span class='fu'>drive_find</span>(<span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"'root' in parents"</span>)
<span class='co'># FYI: this is equivalent to</span>
<span class='fu'><a href='drive_ls.html'>drive_ls</a></span>(<span class='st'>"~/"</span>)

<span class='co'># control page size or cap the number of files returned</span>
<span class='fu'>drive_find</span>(<span class='kw'>pageSize</span> <span class='kw'>=</span> <span class='fl'>50</span>)
<span class='co'># all params passed through `...` can be camelCase or snake_case</span>
<span class='fu'>drive_find</span>(<span class='kw'>page_size</span> <span class='kw'>=</span> <span class='fl'>50</span>)
<span class='fu'>drive_find</span>(<span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>58</span>)
<span class='fu'>drive_find</span>(<span class='kw'>page_size</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'># various ways to specify q search clauses</span>
<span class='co'># multiple q's</span>
<span class='fu'>drive_find</span>(<span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"name contains 'TEST'"</span>,
           <span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"modifiedTime &gt; '2017-07-21T12:00:00'"</span>)
<span class='co'># vector q</span>
<span class='fu'>drive_find</span>(<span class='kw'>q</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"starred = true"</span>, <span class='st'>"visibility = 'anyoneWithLink'"</span>))

<span class='co'># default `trashed = FALSE` excludes files in the trash</span>
<span class='co'># `trashed = TRUE` consults ONLY file in the trash</span>
<span class='fu'>drive_find</span>(<span class='kw'>trashed</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># `trashed = NA` disregards trash status completely</span>
<span class='fu'>drive_find</span>(<span class='kw'>trashed</span> <span class='kw'>=</span> <span class='fl'>NA</span>)

<span class='co'># suppress the default sorting on recency</span>
<span class='fu'>drive_find</span>(<span class='kw'>order_by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># sort on various keys</span>
<span class='fu'>drive_find</span>(<span class='kw'>order_by</span> <span class='kw'>=</span> <span class='st'>"quotaBytesUsed"</span>, <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'>drive_find</span>(<span class='kw'>order_by</span> <span class='kw'>=</span> <span class='st'>"modifiedByMeTime"</span>, <span class='kw'>n_max</span> <span class='kw'>=</span> <span class='fl'>5</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>googledrive is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by Lucy D'Agostino McGowan, <a href='https://jennybryan.org'>Jennifer Bryan</a>, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


